{"version":3,"sources":["webpack:///webpack/bootstrap 2b0316f966dfa2a55f02","webpack:///./src/js/base/BaseItem.ts","webpack:///external \"jQuery\"","webpack:///./src/js/cart/CartManager.ts","webpack:///./src/js/base/BaseCollection.ts","webpack:///./src/js/main.ts","webpack:///./src/js/product/Product.ts","webpack:///./src/js/base/BaseBuilder.ts","webpack:///./src/js/cart/Cart.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2b0316f966dfa2a55f02","import * as $ from 'jquery';\n\nexport type keyValue = {\n    [key: string]: any\n};\n\nexport interface BaseItemParams {\n    attrs?: keyValue,\n    data?: keyValue,\n    class?: string,\n    id?: string,\n    key?: string,\n}\n\nexport class BaseItem {\n    protected data: keyValue = {};\n    public attrs: keyValue = {};\n    public class: string = '';\n    public id: string = '';\n    public key: string = '';\n\n    protected tagName: JQuery.Selector = '<div/>';\n    public el: JQuery;\n\n    /**\n     * Конструктор\n     * @param {object} params\n     */\n    constructor(params: BaseItemParams = {}) {\n        this._init(params);\n\n        this._setParams(params);\n    }\n\n    /**\n     * Инициализация настроек объекта\n     * @param {object} params\n     * @protected\n     */\n    protected _init(params: BaseItemParams): void {\n    }\n\n    /**\n     * Настраиваем объект на основе переданных опций\n     * @param {object} params\n     * @protected\n     */\n    protected _setParams(params: BaseItemParams): void {\n        this.el = $(this.tagName);\n\n        if (params.attrs)\n            this.attrs = {...this.attrs, ...params.attrs};\n\n        if (params.data)\n            this.data = {...this.data, ...params.data};\n\n        if (params.class)\n            this.class += ' ' + params.class;\n\n        if (params.id) {\n            this.id = params.id;\n        }\n\n        if (params.key) {\n            this.key = params.key;\n        } else if (params.id) {\n            this.key = params.id;\n        } else {\n            this.key = BaseItem.uniqueId();\n        }\n    }\n\n    /**\n     * Сеттер для параметров\n     * @param {string} key\n     * @param value\n     * @returns {BaseItem}\n     */\n    public set(key: string, value: any) {\n        this.data['key'] = value;\n        return this;\n    }\n\n    /**\n     * Геттер для параметров\n     * @param {string} key\n     * @returns {*}\n     */\n    public get(key: string): any {\n        if (this.data.hasOwnProperty(key)) {\n            return this.data[key];\n        }\n        return '';\n    }\n\n    /**\n     * Проверяем существование параметра\n     * @param {string} key\n     * @returns {boolean}\n     */\n    public check(key: string): boolean {\n        return !!(this.get(key));\n    }\n\n    /**\n     * Устанавливаем атрибуты элемента\n     * @protected\n     */\n    protected _renderAttributes(): void {\n        this.el.attr(this.attrs);\n        this.el.addClass(this.class);\n\n        if (this.id)\n            this.el.attr('id', this.id);\n    }\n\n    /**\n     * Шаблон элемента\n     * @returns {string}\n     * @protected\n     */\n    protected template(): string {\n        return this.get('html');\n    }\n\n    /**\n     * Рендерим элемент\n     * @returns {JQuery}\n     */\n    public render() {\n        this._renderAttributes();\n\n        this.el.html(this.template());\n        return this.el;\n    }\n\n    /**\n     * Добавляем элемент в DOM\n     * @param {JQuery.Selector} selector\n     * @param {boolean} replace\n     * @returns {BaseItem}\n     */\n    public attach(selector: JQuery.Selector, replace: boolean = false): this {\n        if (replace){\n            this.el = $(selector);\n        } else {\n            this.el.appendTo(selector);\n        }\n\n        this.render();\n\n        return this;\n    }\n\n    /**\n     * Удаляем элемент из DOM\n     * @returns {BaseItem}\n     */\n    public detach(): this {\n        this.el.remove();\n        return this;\n    }\n\n    /**\n     * Генератор случайных id\n     * @param {string} prefix\n     * @returns {string}\n     */\n    public static uniqueId(prefix?: string): string {\n        return prefix + '-' + (Date.now() - Math.floor(Math.random() * 10000000000) * 100);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/base/BaseItem.ts","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 1\n// module chunks = 0","import * as $ from 'jquery';\n\nexport type cartItems = {\n    [key: string]: {\n        amount: number,\n        data?: any,\n    }\n};\n\nclass CartManager {\n    protected items: cartItems = {};\n    protected ajaxUrl = 'json/products.json';\n    public sum: number = 0;\n\n    protected handlers: {\n        [key: string]: Array<(data: cartItems) => void>\n    } = {\n        add: [],\n        remove: [],\n        calculate: [],\n    };\n\n    public addHandler(type:string, fun:(data: cartItems) => void){\n        this.handlers[type].push(fun);\n    }\n\n    public get products() {\n        return this.items;\n    }\n\n    public set products(items) {\n        this.addItems(items);\n    }\n\n    public addItems(items: cartItems) {\n        this.items = {...this.items, ...items};\n\n        this.onAdd();\n    }\n\n    public addItem(itemKey: string) {\n        if (this.items[itemKey]) {\n            this.items[itemKey].amount++;\n            this.onAdd();\n        } else {\n            this.items[itemKey] = {amount: 1};\n            this.getItemData(itemKey);\n        }\n    }\n\n    public removeItem(itemKey: string) {\n        if (this.items[itemKey]) {\n            delete this.items[itemKey];\n        }\n        this.onRemove();\n    }\n\n    /**\n     * Получаем с бэка данные о товаре\n     * @param {string} productId\n     * @param {boolean} useStub Использовать заглушку?\n     */\n    protected getItemData(productId: string, useStub: boolean = true) {\n        let result;\n\n        let settings = {\n            method: \"GET\",\n            context: this,\n            url: this.ajaxUrl,\n            data: {product: productId}\n        };\n\n        result = $.ajax(settings);\n\n        if (useStub) {\n            return result.done(function (data) {\n                let productData: any = {};\n\n                for (let key in data.items) {\n                    if (data.items[key].productId == productId) {\n                        productData = data.items[key];\n                        break;\n                    }\n                }\n\n                this.setItemData(productId, productData)\n            });\n        }\n\n        return result.done(function (data) {\n            this.setItemData(productId, data.data)\n        });\n    }\n\n    public setItemData(itemKey: string, data: any) {\n        this.items[itemKey].data = data;\n\n        this.onAdd();\n    }\n\n    public calculateSum(): number {\n        this.sum = 0;\n        for (let key in this.items) {\n            if (this.items[key].data) {\n                this.sum += <number>this.items[key].data.price * this.items[key].amount;\n            } else {\n                this.getItemData(key);\n                break;\n            }\n        }\n        this.onCalculate();\n\n        return this.sum;\n    }\n\n    public toString() {\n        let str = '';\n        for (let key in this.items) {\n            str += key + ':' + this.items[key].amount + ';';\n        }\n        return str;\n    }\n\n    public serialize(): string {\n        return this.toString();\n    }\n\n    public unserialize(str: string): cartItems {\n        let items = str.split(';');\n        let result: cartItems = {};\n\n        items.map(function (item) {\n            let i = item.split(':');\n            result[i[0]].amount = parseInt(i[1]);\n        });\n\n        this.addItems(result);\n\n        return this.items;\n    }\n\n    public onAdd() {\n        this.calculateSum();\n        //console.log(this.items);\n\n        this.handlers.add.forEach((fun) => fun(this.items));\n    }\n\n    public onRemove() {\n        this.calculateSum();\n        //console.log(this.items);\n\n        this.handlers.remove.forEach((fun) => fun(this.items));\n    }\n\n    public onCalculate() {\n        //console.log(this.items);\n\n        this.handlers.calculate.forEach((fun) => fun(this.items));\n    }\n}\n\nexport let cartManager = new CartManager();\n\n\n// WEBPACK FOOTER //\n// ./src/js/cart/CartManager.ts","import {keyValue, BaseItem, BaseItemParams} from './BaseItem';\r\nimport {BaseBuilder} from './BaseBuilder';\r\n\r\n\r\nexport interface BaseCollectionParams extends BaseItemParams {\r\n    items?: keyValue[],\r\n}\r\n\r\nexport class BaseCollection extends BaseBuilder {\r\n    protected childClass = BaseItem;\r\n    public items: keyValue[]  = [];\r\n    protected ajaxUrl: string;\r\n\r\n    /**\r\n     * Конструктор\r\n     * @param {Object} params\r\n     */\r\n    public constructor(params: BaseCollectionParams = {}) {\r\n        super(params);\r\n\r\n        if (params.items) {\r\n            this.addItems(params);\r\n        }\r\n\r\n        if (this.ajaxUrl) {\r\n            this.ajaxRequest({}, true);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Создаём дочерний элемент из параметров\r\n     * @param {BaseItemParams} params\r\n     * @returns {BaseItem}\r\n     */\r\n    protected createChild(params: BaseItemParams): BaseItem {\r\n        return new this.childClass(params);\r\n    }\r\n\r\n    /**\r\n     * Рендерим дочерние элементы\r\n     * @protected\r\n     */\r\n    protected _renderChilds(): void {\r\n        for (let i in this.items) {\r\n            let options: keyValue = {};\r\n            options.data = this.items[i];\r\n\r\n            let child = this.createChild(options);\r\n\r\n            this._renderChild(child);\r\n        }\r\n    }\r\n\r\n    public ajaxRequest(settings: keyValue = {}, addItems: boolean = false) {\r\n        let result;\r\n        settings.context = this;\r\n\r\n        if (this.ajaxUrl) {\r\n            result = $.ajax(this.ajaxUrl, settings);\r\n        } else {\r\n            result = $.ajax(settings);\r\n        }\r\n\r\n        if (addItems){\r\n            return result.done(this.addItems);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public addItems(data: any) {\r\n        if (data.hasOwnProperty('items') && data.items.length > 0) {\r\n            this.items.push.apply(this.items, data.items);\r\n        } else if (data instanceof Array) {\r\n            this.items.push.apply(this.items, data);\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    public setItems(data: any) {\r\n        if (data.hasOwnProperty('items') && data.items.length > 0) {\r\n            this.items.push.apply(this.items, data.items);\r\n        } else if (data instanceof Array) {\r\n            this.items = data;\r\n        }\r\n        this.render();\r\n    }\r\n\r\n    public addItem(item: keyValue) {\r\n        this.items.push(item);\r\n        this.render();\r\n    }\r\n\r\n    public removeItem(itemKey: string) {\r\n        for (let i in this.items) {\r\n            if (this.items[i].key == itemKey) {\r\n                delete this.items[i];\r\n                break;\r\n            }\r\n        }\r\n        this.render();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/base/BaseCollection.ts","import {ProductCollection} from \"./product/Product\";\nimport * as $ from \"jquery\";\nimport {Cart} from \"./cart/Cart\";\nimport {cartManager} from \"./cart/CartManager\";\n\n$(function () {\n    let item = new ProductCollection();\n    let cart = new Cart();\n\n    item.attach('#products-list', true);\n    cart.attach('#main-cart', true);\n\n    let total = $('#cart-total');\n    total.text(0);\n\n    cartManager.addHandler('calculate', () => total.text(cartManager.sum));\n\n    $('.categories').on('click', '.categories-single', function (e) {\n        $(this).toggleClass('active');\n    })\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.ts","import {BaseItem, BaseItemParams} from '../base/BaseItem';\nimport {BaseCollection, BaseCollectionParams} from '../base/BaseCollection';\nimport * as $ from \"jquery\";\nimport {cartManager} from \"../cart/CartManager\";\n\nexport class ProductCollection extends BaseCollection {\n    protected childClass = ProductItem;\n    protected ajaxUrl = 'json/products.json';\n\n    public constructor(params: BaseCollectionParams = {}) {\n        super(params);\n\n        if (this.ajaxUrl) {\n            this.ajaxRequest({}, true);\n        }\n    }\n\n    protected _init(params: BaseItemParams): void {\n        this.class = 'products-list';\n    }\n\n    public attach(selector: JQuery.Selector, replace: boolean = false): this {\n        super.attach(selector, replace);\n        this.bindCartEvent();\n\n        return this;\n    }\n\n    private bindCartEvent(){\n        this.el.on('click', '.add-cart-item', function (e: any) {\n            cartManager.addItem(e.target.dataset.id);\n        });\n    }\n}\n\nexport class ProductItem extends BaseItem {\n    protected addToCartLabel: string = 'В корзину';\n\n    constructor(params: BaseItemParams = {}) {\n        super(params);\n    }\n\n    protected _init(params: BaseItemParams): void {\n        this.tagName = '<article/>';\n        this.class = 'products-list-item';\n    }\n\n    public getLink(): string {\n        return 'product.html?product=' + this.get('slug');\n    }\n\n    template() {\n        return '<a class=\"products-list-item__link\" href=\"' + this.getLink() + '\">' +\n                '<img class=\"products-list-item__image\" src=\"' + this.get('thumb') + '\" alt=\"' + this.get('title') + '\">' +\n                '<h2 class=\"products-list-item__name\">' + this.get('title') + '</h2>' +\n                '<div class=\"products-list-item__cost currency\">' + this.get('price') + '</div>' +\n            '</a>' +\n            '<a class=\"products-list-item__cart add-cart-item\" data-id=\"' + this.get('productId') + '\" href=\"#\">' + this.addToCartLabel + '</a>';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/product/Product.ts","import * as $ from 'jquery';\nimport {BaseItem, BaseItemParams} from './BaseItem';\n\nexport class BaseBuilder extends BaseItem {\n    protected childContainer: JQuery.Selector = '';\n    protected _container: JQuery;\n    public children: BaseItem[] = [];\n\n    /**\n     * Конструктор\n     * @param {object} params\n     */\n    constructor(params: BaseItemParams = {}) {\n        super(params);\n    }\n\n    /**\n     * Получаем контейнер для добавления дочерних элементов\n     * @returns {JQuery}\n     */\n    protected get container(): JQuery {\n        if (this._container) {\n            return this._container;\n        }\n\n        if (this.childContainer) {\n            let result = this.el.find(this.childContainer);\n\n            if (result.length === 1)\n                return this.container = result;\n        }\n        return this.el;\n    }\n\n    /**\n     * Устанавливаем контейнер для добавления дочерних элементов\n     * @param {JQuery} container\n     */\n    protected set container(container: JQuery) {\n        this._container = $(container);\n    }\n\n    /**\n     * Рендерим дочерний элемент\n     * @param child\n     * @protected\n     */\n    protected _renderChild(child: BaseItem): void {\n        this.container.append(child.render());\n    }\n\n    /**\n     * Рендерим дочерние элементы\n     * @protected\n     */\n    protected _renderChilds(): void {\n        for (let i in this.children) {\n            let child = this.children[i];\n\n            this._renderChild(child);\n        }\n    }\n\n    /**\n     * Рендерим элемент\n     * @returns {JQuery}\n     */\n    public render() {\n        super.render();\n\n        this._renderChilds();\n        return this.el;\n    }\n\n    /**\n     * Добавляем дочерний элемент\n     * @param element\n     * @returns {BaseBuilder}\n     */\n    public add(element: BaseItem): this {\n        if (element instanceof BaseItem) {\n            this.children.push(element);\n            this._renderChild(element);\n        }\n        return this;\n    }\n\n    /**\n     * Удаляем дочерний элемент по ключу\n     * @param {string} elementKey\n     * @returns {BaseBuilder}\n     */\n    public remove(elementKey: string): this {\n        for (let i in this.children) {\n            if (this.children[i].key == elementKey) {\n                this.children[i].detach();\n                delete this.children[i];\n                break;\n            }\n        }\n        return this;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/base/BaseBuilder.ts","import {BaseItem, BaseItemParams, keyValue} from '../base/BaseItem';\nimport {BaseCollection, BaseCollectionParams} from '../base/BaseCollection';\nimport * as $ from \"jquery\";\nimport {cartManager} from \"./CartManager\";\nimport {ProductItem} from \"../product/Product\";\n\nexport class Cart extends BaseCollection {\n    constructor(params: BaseItemParams = {}) {\n        super(params);\n    }\n\n    protected _init(params: BaseItemParams): void {\n        this.tagName = '<ul/>';\n        this.childClass = CartItem;\n        this.class = 'cart__items';\n    }\n\n    protected _renderChilds(): void {\n        for (let i in cartManager.products) {\n            let options: keyValue = {};\n            options.data = cartManager.products[i].data;\n            options.data.amount = cartManager.products[i].amount;\n\n            let child = this.createChild(options);\n\n            this._renderChild(child);\n        }\n    }\n\n    public attach(selector: JQuery.Selector, replace: boolean = false): this {\n        super.attach(selector, replace);\n        this.bindCartEvent();\n\n        return this;\n    }\n\n    protected createChild(params: BaseItemParams): BaseItem {\n        return new CartItem(params);\n    }\n\n    private bindCartEvent() {\n        this.el.on('click', '.delete-cart-item', function (e: any) {\n            cartManager.removeItem(e.currentTarget.dataset.id);\n        });\n\n        cartManager.addHandler('add', this.render.bind(this));\n        cartManager.addHandler('remove', this.render.bind(this));\n    }\n}\n\nexport class CartItem extends BaseItem {\n    protected _init(params: BaseItemParams): void {\n        this.tagName = '<li/>';\n        this.class = 'cart__item cart-item';\n    }\n\n    public getLink(): string {\n        return 'product.html?product=' + this.get('slug');\n    }\n\n    template() {\n        return '<a href=\"'+ this.getLink() +'\"><img class=\"cart-item__img\" src=\"' + this.get('thumb') + '\" alt=\"' + this.get('title') + '\" height=\"85\"></a>\\n' +\n            '<div class=\"cart-item__text\">' +\n                '<a class=\"cart-item__head\" href=\"'+ this.getLink() +'\">' + this.get('title') + '</a>' +\n                '<img class=\"cart-item__stars\" src=\"img/stars.png\" alt=\"Rating\">\\n' +\n                '<div class=\"cart-item__count-price\">'+\n                    '<span class=\"cart-item__count\">' + this.get('amount') + '</span><i> x </i><span class=\"cart-item__price currency\">' + this.get('price') + '</span>'+\n                '</div>\\n' +\n            '</div>' +\n            '<a class=\"cart-item__delete delete-cart-item\" data-id=\"' + this.get('productId') + '\" href=\"#item-delete\"><i class=\"fa fa-times-circle\"></i></a>\\n';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/js/cart/Cart.ts"],"sourceRoot":""}